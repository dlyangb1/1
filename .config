CONFIG_MODULES=y
CONFIG_HAVE_DOT_CONFIG=y

# 目标平台设置
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_pag1218=y

# 编译优化
CONFIG_TARGET_OPTIMIZATION="-Os -pipe -mips32r2 -mtune=1004kc"
CONFIG_LINUX_5_15=y

# 关闭图形界面（LuCI）
# 不启用 LuCI 可显著减少体积
# CONFIG_PACKAGE_luci is not set

# 网络代理与工具
CONFIG_PACKAGE_tinyproxy=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_libcurl=y

# 内核模块
CONFIG_PACKAGE_kmod-tun=y
CONFIG_PACKAGE_kmod-tcp-bbr=y

# 基础系统组件
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_firewall=y
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_dnsmasq=y
CONFIG_PACKAGE_dropbear=y

# 文件系统支持（仅保留必要）
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_mount-utils=y
CONFIG_PACKAGE_kmod-fs-ext4=y

# 去除调试工具、终端服务、语言包等
# CONFIG_PACKAGE_luci-app-ttyd is not set
# CONFIG_PACKAGE_ttyd is not set
# CONFIG_PACKAGE_htop is not set
# CONFIG_PACKAGE_luci-i18n-base-zh-cn is not set

# 内核构建信息（可选）
CONFIG_KERNEL_BUILD_USER="copilot"
CONFIG_KERNEL_BUILD_DOMAIN="openwrt"

# BusyBox 精简配置
CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SYSLOGD=y
CONFIG_BUSYBOX_CONFIG_FEATURE_CROND=y
CONFIG_BUSYBOX_CONFIG_FEATURE_HTTPD=y

# 保留空间用于未来扩展
# CONFIG_PACKAGE_xxx=y
